<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="https://jakarta.ee/xml/ns/persistence"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd"
	version="3.0">
	<persistence-unit name="Persistencia">
		<!-- Aquí debemos indicar las clases a persistir que dispondrán de las correspondientes anotiaciones JPA-->
		<!-- <class>paquete.ClaseX</class> -->
		<class>dev.mendo.dominio.modelo.Cliente</class>
		<class>dev.mendo.dominio.modelo.Pedido</class>
		
		
		<properties>
			
			<property name="hibernate.connection.autocommit" value="false" />
			<!--  JPA está diseñado para manejar las transacciones explícitamente, agrupando operaciones según sea necesario. -->
			
			<property name="hibernate.format_sql" value="true" /> 
			<!--  el SQL generado se mostrará con saltos de línea y sangría para que sea más fácil de leer. -->

			<property name="hibernate.connection.isolation" value="4" />
			<!--   Nivel de aislamiento considerado para las transacciones:
    			1: TRANSACTION_READ_UNCOMMITTED
    			2: TRANSACTION_READ_COMMITTED (valor predeterminado en MySQL)
	    		4: TRANSACTION_REPEATABLE_READ (nivel predeterminado de MySQL InnoDB)
    			8: TRANSACTION_SERIALIZABLE
			-->
			
			<!-- HikariCP is configured via Hibernate properties -->
			<property name="hibernate.hikari.minimumIdle" value="2" />
			<!--  Número mínimo de conexiones en el pool --> 
			
			<property name="hibernate.hikari.maximumPoolSize" value="20" />
			<!--  Número máximo de conexiones en el pool --> 
			
			<property name="hibernate.hikari.connectionTimeout" value="30000" />
			<!--  Tiempo máximo de espera para obtener una conexión (en milisegundos) --> 
			
			<property name="hibernate.hikari.idleTimeout" value="600000" />
			<!--  Tiempo máximo de inactividad (en milisegundos) antes de que una conexión sea eliminada --> 
			
			<property name="hibernate.hikari.maxLifetime" value="1800000" />
			<!--  Tiempo máximo de vida de una conexión (en milisegundos) -->

			<property name="hibernate.generate_statistics" value="false" />
			<!--  Se activa la generación de estadísticas detalladas sobre el rendimiento de las operaciones. Penaliza rendimiento -->
			
			
			<!-- Propiedades de configuración JDBC para la unidad de persistencia -->
			<property name="jakarta.persistence.jdbc.driver" value="com.mysql.cj.jdbc.Driver" />
			<property name="jakarta.persistence.jdbc.user" value="root" />
			<property name="jakarta.persistence.jdbc.password" value="Petalo050678." />
			<property name="jakarta.persistence.jdbc.url" value="jdbc:mysql://localhost:3306/elcorteingles" />
			
		</properties>
	</persistence-unit>
</persistence>
